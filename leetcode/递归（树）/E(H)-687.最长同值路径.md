### 687. 最长同值路径

### 参考代码

``` c++
class Solution {
public:
    int result;
    Solution():result(0){}
    int max(int a, int b){
        return a>b?a:b;
    }
    int longestUnivaluePath(TreeNode* root) {
        solver(root);
        return result;
    }
    int solver(TreeNode *root){
        if(root == nullptr) return 0;
        int left = solver(root -> left), right = solver(root -> right);
        if(root -> left){
            if(root -> val == root -> left -> val) left += 1;
            else left = 0;
        }
        if(root -> right){
            if(root -> val == root -> right -> val) right += 1;
            else right = 0;
        }
        result = max(result, left + right);
        return max(left, right);
    }
    /* 微妙的错解
    问题出现在Q1 ~ Q3 这里是个微妙的逻辑：递归是一定要递归的，是无条件的，而路径加不加1是有条件的。
    int solver(TreeNode *root){
        if(root == nullptr) return 0;
        int left = 0, right = 0;    // Q1
        if(root -> left){
            if(root -> val == root -> left -> val) left = solver(root -> left) + 1;    // Q2
            else left = 0;
        }
        if(root -> right){
            if(root -> val == root -> right -> val) right = solver(root -> right) + 1;    // Q3
            else right = 0;
        }
        result = max(result, left + right);
        return max(left, right);
    }
    */
};
```

### 几乎一样的题：124. 二叉树中的最大路径和
